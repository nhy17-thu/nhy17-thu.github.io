# 2019.07.07 第二次前端实验日志

在本次试验中，我们在OJ平台上完成了4道相应编程题目，分别是对输入日期按升序排列并与给定日期进行比较、对给定二叉树建立迭代器接口、完成对嵌套数组递归执行的fmap函数、以及用给定的运算方式完成对一个带符号表达式的运算。
由于这是我们接触JavaScript后第一次用这门神奇的语言完成代码实现，因此我们通过本次试验熟悉了很多JavaScript的神奇语法特性，为进一步使用做好铺垫。

+ 第一题，由于输入的时间都是形如(yyyy-MM-dd HH:mm:ss)的datetime格式字符串，因此我们可以调用Date.prase()接口，将提交时间转化为从1970年以来的毫秒数，然后对.sort方法传入自定义的比较函数即可完成升序排列。再与给定ddl进行比较即可得到所要求结果。

+ 第二题，利用数据结构课中所讲的多叉树深度优先先根遍历即可得到结果。注意由于我们需要把树形结构组织成线性结构，因此可以采取相对较为简单的把对象（的引用）存储在线性数组中来实现。

+ 第三题，针对传入数组的树形结构，我们可以类似地采用递归调用来解决这一问题：遍历数组，若目标为number就直接调用传入函数f完成运算；若目标为object就递归地调用fmap自己，直到目标为number或者为undefined为止；若目标为undefined，就什么也不做。

+ 第四题，我选择了运算符定义的问题。此题的核心在于如何将字符串转换为可运算的表达式：
    - 对于运算符定义语句，由于oval方法被禁止使用了，我们可以使用类似的`new Function("...")(...)`来将输入的运算符定义语句直接转化为可执行的函数，注意每一步运算过程中都要使用`Math.floor()`完成下取整。
    - 对于要计算的表达式，我们可以利用在数据结构课中用栈来解析表达式的思想：每次找到最左端的右括号，再找到它以左最右端的左括号，它们两个一定是配对的。依此逻辑逐对提取出所有的要运算数字及其顺序，在利用自定义的函数完成运算后，将原来括号及以内的表达式整体替换为运算结果。最后，当表达式中不再出现`&`符号时，即表示运算完成。
    由于题目没有说清楚所给表达式是否是完全括号化的，因此我们还针对不加括号的（符合交换律的）情况实现了连续运算的解析，方法同理。
    
以上就是本次实验的日志，感谢耐心阅读。